fullnameOverride: my-hdfs
image: mirrors.tencent.com/alluxio/alluxiotest/venus/alluxio
imageTag: v0.1
imagePullPolicy: IfNotPresent
user: 0
group: 0
fsGroup: 0
properties:
  alluxio.conf.dynamic.update.enabled: "false"
  alluxio.fuse.user.group.translation.enabled: "true"
  alluxio.job.master.embedded.journal.port: "22033"
  alluxio.job.master.rpc.port: "21959"
  alluxio.job.master.web.port: "23204"
  alluxio.job.worker.data.port: "21630"
  alluxio.job.worker.rpc.port: "20702"
  alluxio.job.worker.web.port: "24048"
  alluxio.master.audit.logging.enabled: "false"
  alluxio.master.embedded.journal.addresses: my-hdfs-master-0:21649,my-hdfs-master-1:21649,my-hdfs-master-2:21649
  alluxio.master.embedded.journal.port: "21649"
  alluxio.master.mount.table.root.ufs: /underFSStorage
  alluxio.master.rpc.port: "20282"
  alluxio.master.security.impersonation.root.groups: '*'
  alluxio.master.security.impersonation.root.users: '*'
  alluxio.master.update.check.enabled: "false"
  alluxio.master.uri.translator.impl: alluxio.master.file.uritranslator.AutoMountUriTranslator
  alluxio.master.web.port: "24256"
  alluxio.security.authorization.permission.enabled: "false"
  alluxio.underfs.hdfs.configuration: /hdfs-config/hdfs-site.xml:/hdfs-config/core-site.xml
  alluxio.underfs.hdfs.prefixes: hdfs://,glusterfs:///,mdfs://
  alluxio.user.direct.memory.io.enabled: "true"
  alluxio.user.file.replication.max: "1"
  alluxio.user.metrics.collection.enabled: "false"
  alluxio.worker.network.async.cache.manager.threads.max: "128"
  alluxio.worker.rpc.port: "21557"
  alluxio.worker.web.port: "20090"
master:
  jvmOptions:
    - -server
    - -Xms20g
    - -Xmx20g
    - -XX:ParallelGCThreads=40
    - -XX:MaxDirectMemorySize=4g
    - -XX:+UseG1GC
    - -XX:G1HeapRegionSize=32m
    - -XX:MaxGCPauseMillis=200
    - -XX:MetaspaceSize=2g
    - -XX:+DisableExplicitGC
    - -XX:MaxTenuringThreshold=15
  env:
    ALLUXIO_WORKER_TIEREDSTORE_LEVEL0_DIRS_PATH: /dev/shm/alluxio/alluxio/my-hdfs
  affinity:
    nodeAffinity: null
  replicaCount: 3
  hostNetwork: true
  resources:
    requests:
      cpu: "8"
      memory: 20Gi
    limits:
      cpu: "8"
      memory: 20Gi
  ports:
    rpc: 20282
    web: 24256
    embedded: 21649
  backupPath: /tmp/alluxio-backup/alluxio/my-hdfs
jobMaster:
  ports:
    rpc: 21959
    web: 23204
    embedded: 22033
  resources:
    requests:
      cpu: "2"
      memory: 16Gi
    limits:
      cpu: "2"
      memory: 16Gi
worker:
  jvmOptions:
    - -Xmx20g
    - -Xms20g
    - -XX:MaxDirectMemorySize=50g
  env:
    ALLUXIO_WORKER_TIEREDSTORE_LEVEL0_DIRS_PATH: /dev/shm/alluxio/alluxio/my-hdfs
  hostNetwork: true
  resources:
    requests:
      cpu: "8"
      memory: 70Gi
    limits:
      cpu: "8"
      memory: 70Gi
  ports:
    rpc: 21557
    web: 20090
jobWorker:
  ports:
    rpc: 20702
    web: 24048
    data: 21630
  resources:
    requests:
      cpu: "4"
      memory: 16Gi
    limits:
      cpu: "4"
      memory: 16Gi
fuse:
  image: mirrors.tencent.com/alluxio/alluxiotest/venus/alluxio
  nodeSelector:
    fluid.io/f-alluxio-my-hdfs: "true"
  imageTag: v0.1
  env:
    MAX_IDLE_THREADS: "64"
    MOUNT_POINT: /alluxio-mnt/alluxio/alluxio/my-hdfs/alluxio-fuse
  jvmOptions:
    - -Xmx30g
    - -Xms30g
  mountPath: /alluxio-mnt/alluxio/alluxio/my-hdfs/alluxio-fuse
  args:
    - fuse
    - --fuse-opts=kernel_cache,ro,max_read=131072,attr_timeout=7200,entry_timeout=7200,nonempty,allow_other
  hostNetwork: true
  enabled: true
  resources:
    requests:
      cpu: "4"
      memory: 30Gi
    limits:
      cpu: "4"
      memory: 30Gi
tieredstore:
  levels:
    - alias: SSD
      level: 0
      mediumtype: SSD
      type: hostPath
      path: /dev/shm/alluxio/alluxio/my-hdfs
      quota: 350GB
journal:
  volumeType: emptyDir
  size: 30Gi
shortCircuit:
  enable: true
  policy: local
  volumeType: emptyDir
initUsers:
  image: registry.cn-hangzhou.aliyuncs.com/fluid/init-users
  imageTag: v0.3.0-1467caa
  imagePullPolicy: IfNotPresent
  envUsers: ""
  dir: ""
  envTieredPaths: ""
monitoring: alluxio_runtime_metrics
hadoopConfig:
  configMap: hdfs-config
  includeHdfsSite: true
  includeCoreSite: true
placement: Exclusive